---
import IndexLayout from "@/layouts/IndexLayout.astro";
import PostList from "@/components/widgets/PostList.astro";
import Footer from "@/components/layout/Footer.astro";
import { themeConfig } from "@/config";
import { getSortedFilteredPosts } from "@/utils/draft";

const allPosts = await getSortedFilteredPosts();
const posts = allPosts.filter((post) => post.data.show !== false);
---

<IndexLayout
  title={`Blog | ${themeConfig.site.title}`}
  description={themeConfig.site.description}
  ogImage="/og/blog.png"
>
  <div class="prose not-empty:mb-5">
    <p>
      Welcome to the MetaBear blog. Learn about SEO best practices, accessibility tips, 
      and how to optimize your website for better search engine rankings.
    </p>
  </div>
  <main>
    <PostList posts={posts} />
  </main>
  <Footer />
</IndexLayout>
